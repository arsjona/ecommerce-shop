<!-- Navigation Bar -->
<nav class="navbar navbar-expand-lg navbar-light">
  <a class="navbar-brand" href="#">MyShop</a>
  <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
    <span class="navbar-toggler-icon"></span>
  </button>
  <div class="collapse navbar-collapse" id="navbarNav">
    <ul class="navbar-nav ms-auto align-items-center">
      <li class="nav-item mx-2">
        <form class="d-flex">
          <input class="form-control" type="search" name="search" [(ngModel)]="search"  placeholder="Search" aria-label="Search" />
        </form>
      </li>
      <li class="nav-item mx-2">
        <a class="nav-link text-dark" href="#">Contact</a>
      </li>
      <li class="nav-item mx-2">
        <a class="nav-link text-dark" href="#">Cart</a>
      </li>
      <li class="nav-item mx-2">
        <button *ngIf="!isLoggedIn" type="button" class="btn btn-primary" (click)="showModal()">Login</button>
        <button *ngIf="isLoggedIn" type="button" class="btn btn-secondary" (click)="logout()">Logout</button>
      </li>
    </ul>
  </div>
</nav>

<!-- Login Modal -->
<div
  class="modal fade show d-block"
  tabindex="-1"
  *ngIf="isModalOpen"
  style="background: rgba(0, 0, 0, 0.5); position: fixed; top: 0; left: 0; width: 100%; height: 100%; z-index: 1050;"
>
  <div class="modal-dialog modal-dialog-centered">
    <div class="modal-content rounded-3">
      <div class="modal-header">
        <h5 class="modal-title">Login</h5>
        <button type="button" class="btn-close" (click)="closeModal()" aria-label="Close"></button>
      </div>
      <div class="modal-body">
        <form>
          <input type="text" class="form-control mb-2" name="username" placeholder="Username" [(ngModel)]="username" />
          <input type="password" class="form-control" name="password" placeholder="Password" [(ngModel)]="password" />
        </form>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" (click)="closeModal()">Close</button>
        <button type="button" class="btn btn-primary" (click)="login()">Submit</button>
      </div>
    </div>
  </div>
</div>

<!-- Product Details Modal -->
<div
  class="modal fade show d-block"
  tabindex="-1"
  *ngIf="isProductModalOpen"
  style="background: rgba(0, 0, 0, 0.5); position: fixed; top: 0; left: 0; width: 100%; height: 100%; z-index: 1050;"
>
  <div class="modal-dialog modal-dialog-centered">
    <div class="modal-content rounded-3">
      <div class="modal-header">
        <h5 class="modal-title">Product Details</h5>
        <button type="button" class="btn-close" (click)="closeModal()" aria-label="Close"></button>
      </div>
      <div class="modal-body">
        <p><strong>Name:</strong> {{ selectedProduct.name }}</p>
        <p><strong>Description:</strong> {{ selectedProduct.description }}</p>
        <p><strong>Color:</strong> {{ selectedProduct.color }}</p>
        <p><strong>Price:</strong> {{ selectedProduct.price }}</p>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" (click)="closeModal()">Close</button>
        <button type="button" class="btn btn-primary" (click)="toOrderPage()">Add to Cart</button>
      </div>
    </div>
  </div>
</div>

<!-- Page Content -->
<div class="container-fluid">
  <div class="row">
    <!-- Sidebar -->
    <div class="col-md-2 sidebar">
   <h5>Categories</h5>
      <div class="dropdown mb-3">
        <button class="btn btn-outline-secondary dropdown-toggle w-100" type="button" data-bs-toggle="dropdown">
          Electronics
        </button>
        <ul class="dropdown-menu">
          <li><a class="dropdown-item" href="#">Phones</a></li>
          <li><a class="dropdown-item" href="#">Laptops</a></li>
        </ul>
      </div>
      <div class="dropdown mb-3">
        <button class="btn btn-outline-secondary dropdown-toggle w-100" type="button" data-bs-toggle="dropdown">
          Clothing
        </button>
        <ul class="dropdown-menu">
          <li><a class="dropdown-item" href="#">Men</a></li>
          <li><a class="dropdown-item" href="#">Women</a></li>
        </ul>
      </div>
      </div>
     

    <!-- Main Content -->
    <div class="col-md-10">
      <div class="welcome-section text-center">
        <h2 class="fw-semibold text-dark">Welcome to our shop</h2>
        <p class="text-muted">Browse our curated selection of amazing products</p>
      </div>

      <div class="row px-3">
        <div *ngFor="let product of products" class="col-md-3 mb-4">
          <img src={{product.image}}
            alt={{product.name}}
            class="d-block w-100 h-100 img-fluid product-img"
            (click)="openProductModal(product.id)"
          />
        </div>
      </div>
    </div>
  </div>
  
</div>
